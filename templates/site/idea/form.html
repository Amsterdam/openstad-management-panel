{% import 'partials/openstad-map.html' as openStadMap %}

<form method="POST"
  {% if idea %}
  action="/admin/site/{{site.id}}/idea/{{idea.id}}"
  {% else %}
  action="/admin/site/{{site.id}}/idea"
  {% endif %}
>
  <div class="form-group row">
    <label class="col-form-label col-sm-4" for="">
       Titel
    </label>
    <div class="col-sm-8">
      <input type="text" name="title" value="{{idea.title}}" class="form-control" />
    </div>
  </div>
  <div class="form-group row">
    <label class="col-form-label col-sm-4" for="">
       Samenvatting
    </label>
    <div class="col-sm-8">
      <textarea name="summary" class="form-control">{{idea.summary}}</textarea>
    </div>
  </div>
  <div class="form-group row">
    <label class="col-form-label col-sm-4" for="">
      Beschrijving
    </label>
    <div class="col-sm-8">
      <textarea name="description" class="form-control">{{idea.description}}</textarea>
    </div>
  </div>
  <div class="form-group row">
    <label class="col-form-label col-sm-4" for="">
      Gebied
    </label>
    <div class="col-sm-8">
      <select id="gebied" name="area" value="{% if idea.extraData %}{{idea.extraData.gebied}}{% endif %}" class="form-control">
        <option value="">Kies gebied</option>
        <option value="Bos en Lommer" {% if (idea.extraData) and (idea.extraData.area == "Bos en Lommer") %}selected{% endif %}>Bos en Lommer</option>
        <option value="De Baarsjes" {% if (idea.extraData) and (idea.extraData.area == "De Baarsjes") %}selected{% endif %}>De Baarsjes</option>
        <option value="Oud-West" {% if (idea.extraData) and (idea.extraData.area == "Oud-West") %}selected{% endif %}>Oud-West</option>
        <option value="Westerpark" {% if (idea.extraData) and (idea.extraData.area == "Westerpark") %}selected{% endif %}>Westerpark</option>
        <option value="West Algemeen" {% if (idea.extraData) and (idea.extraData.area == "West Algemeen") %}selected{% endif %}>West Algemeen</option>
      </select>
    </div>
  </div>
  <div class="form-group row">
    <label class="col-form-label col-sm-4" for="">
      Thema
    </label>
    <div class="col-sm-8">
      <select id="thema" name="theme" class="form-control">
        <option value="">Kies thema</option>
        <option value="Groen" {% if (idea.extraData) and (idea.extraData.theme == "Groen") %}selected{% endif %}>Groen en Openbare ruimte</option>
        <option value="Diversiteit & Inclusiviteit" {% if (idea.extraData) and (idea.extraData.theme == "Diversiteit & Inclusiviteit") %}selected{% endif %}>Diversiteit en Inclusiviteit</option>
        <option value="Duurzaam" {% if (idea.extraData) and (idea.extraData.theme == "Duurzaam") %}selected{% endif %}>Duurzaam</option>
      </select>
    </div>
  </div>
  <div class="form-group row">
    <label class="col-form-label col-sm-4" for="">
      Ranking
    </label>
    <div class="col-sm-8">
      <input type="text" name="ranking" value="{{idea.extraData.ranking}}" class="form-control" />
    </div>
  </div>
  <div class="form-group row">
    <label class="col-form-label col-sm-4" for="">
      Original idea ID
    </label>
    <div class="col-sm-8">
      <input type="text" name="originalId" value="{{idea.extraData.originalId}}" class="form-control" />
    </div>
  </div>
  <div class="form-group row">
    <label class="col-form-label col-sm-4" for="">
      Advice
    </label>
    <div class="col-sm-8">
      <input type="text" name="advice" value="{{idea.extraData.advice}}" class="form-control" />
    </div>
  </div>
  <div class="form-group row">
    <label class="col-form-label col-sm-4" for="">
      Budget
    </label>
    <div class="col-sm-8">
      <input type="number" name="budget" value="{{idea.extraData.budget}}" class="form-control" />
    </div>
  </div>

  <fieldset>
    <legend><span>Locatie</span></legend>
    <div class="form-group row">
  <!--    <label class="col-form-label col-sm-4" for="">
        Locatie
      </label> -->
      <div class="col-sm-12">
        <div id="location">
          <input type="hidden" id="locationField" name="location" value='{{idea.location | dump | safe}}'>
          <div id="mapcontainer">
            {{openStadMap.map(googleMapsKey, [], editorInputElementId = 'locationField')}}
          </div>
        </div>
      </div>
    </div>
  </fieldset>

  {% if idea.posterImage %}
    <input type="hidden" name="images[]" value="{{idea.posterImage.key}}">
  {% endif %}

  <div class="form-buttons-w">
    <button class="btn btn-primary" type="submit">Opslaan</button>
  </div>
</form>
